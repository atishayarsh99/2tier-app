{"ast":null,"code":"import{Component}from\"react\";import{addTask,getTasks,updateTask,deleteTask}from\"./services/taskServices\";class Tasks extends Component{constructor(){super(...arguments);this.state={tasks:[],currentTask:\"\"};this.handleChange=_ref=>{let{currentTarget:input}=_ref;this.setState({currentTask:input.value});};this.handleSubmit=async e=>{e.preventDefault();const originalTasks=this.state.tasks;try{const{data}=await addTask({task:this.state.currentTask});const tasks=originalTasks;tasks.push(data);this.setState({tasks,currentTask:\"\"});}catch(error){console.log(error);}};this.handleUpdate=async currentTask=>{const originalTasks=this.state.tasks;try{const tasks=[...originalTasks];const index=tasks.findIndex(task=>task._id===currentTask);tasks[index]={...tasks[index]};tasks[index].completed=!tasks[index].completed;this.setState({tasks});await updateTask(currentTask,{completed:tasks[index].completed});}catch(error){this.setState({tasks:originalTasks});console.log(error);}};this.handleDelete=async currentTask=>{const originalTasks=this.state.tasks;try{const tasks=originalTasks.filter(task=>task._id!==currentTask);this.setState({tasks});await deleteTask(currentTask);}catch(error){this.setState({tasks:originalTasks});console.log(error);}};}async componentDidMount(){try{const{data}=await getTasks();this.setState({tasks:data});}catch(error){console.log(error);}}}export default Tasks;","map":{"version":3,"names":["Component","addTask","getTasks","updateTask","deleteTask","Tasks","constructor","arguments","state","tasks","currentTask","handleChange","_ref","currentTarget","input","setState","value","handleSubmit","e","preventDefault","originalTasks","data","task","push","error","console","log","handleUpdate","index","findIndex","_id","completed","handleDelete","filter","componentDidMount"],"sources":["C:/Users/atish/Desktop/New folder (4)/TWSThreeTierAppChallenge/Application-Code/2tier-app/frontend/src/Tasks.js"],"sourcesContent":["import { Component } from \"react\";\r\nimport {\r\n    addTask,\r\n    getTasks,\r\n    updateTask,\r\n    deleteTask,\r\n} from \"./services/taskServices\";\r\n\r\nclass Tasks extends Component {\r\n    state = { tasks: [], currentTask: \"\" };\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            const { data } = await getTasks();\r\n            this.setState({ tasks: data });\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    handleChange = ({ currentTarget: input }) => {\r\n        this.setState({ currentTask: input.value });\r\n    };\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const originalTasks = this.state.tasks;\r\n        try {\r\n            const { data } = await addTask({ task: this.state.currentTask });\r\n            const tasks = originalTasks;\r\n            tasks.push(data);\r\n            this.setState({ tasks, currentTask: \"\" });\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    handleUpdate = async (currentTask) => {\r\n        const originalTasks = this.state.tasks;\r\n        try {\r\n            const tasks = [...originalTasks];\r\n            const index = tasks.findIndex((task) => task._id === currentTask);\r\n            tasks[index] = { ...tasks[index] };\r\n            tasks[index].completed = !tasks[index].completed;\r\n            this.setState({ tasks });\r\n            await updateTask(currentTask, {\r\n                completed: tasks[index].completed,\r\n            });\r\n        } catch (error) {\r\n            this.setState({ tasks: originalTasks });\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    handleDelete = async (currentTask) => {\r\n        const originalTasks = this.state.tasks;\r\n        try {\r\n            const tasks = originalTasks.filter(\r\n                (task) => task._id !== currentTask\r\n            );\r\n            this.setState({ tasks });\r\n            await deleteTask(currentTask);\r\n        } catch (error) {\r\n            this.setState({ tasks: originalTasks });\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport default Tasks;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}